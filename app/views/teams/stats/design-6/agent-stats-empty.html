{% extends "layouts/main.html" %}


{% block pageTitle %}

{% endblock %}
{% block stylesheets %}
  {{ super() }}
  <link href="/public/css/filters.css" rel="stylesheet" type="text/css" />
  <link href="/public/css/accessible-autocomplete.min.css" rel="stylesheet" type="text/css" />
{% endblock %}
{% block beforeContent %}
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}

{% endblock %}

{% block pageScripts %}
  <script type="text/javascript" src="/public/javascripts/accessible-autocomplete.min.js"></script>
  <script type="text/javascript" src="/public/javascripts/teams.js"></script>
  <script>
    const teamMembers = [
      "Aiden Jenkins, 12345678",
      "Amy Anderson, 12345678",
      "Amy Adams, 12345678",
      "Amy Johnston, 12345678",
      "James Phillips, 12345678",
      "Ben Hoad, 12345678",
      "Joel Odonnell, 12345678",
      "Oliver Logan, 12345678",
      "Dan Hayes, 12345678",
      "Kathleen Lin, 12345678",
      "Darren Lowery, 12345678",
      "Kamran Roth, 12345678",
      "Amaan Hubbard, 12345678",
      "Sally Whitaker, 12345678",
      "Georgia Duncan, 12345678",
      "Jean Booker, 12345678",
      "Kaine Bell, 12345678",
      "Arjan Sharp, 12345678",
      "Bianca Nicholson, 12345678",
      "Brett Henderson, 12345678",
      "Hassan Young, 12345678",
      "Sonia Pruitt, 12345678",
      "Erica Fernandez, 12345678"
    ]

    accessibleAutocomplete({
      element: document.querySelector('#searchb'),
      id: 'searchb', // To match it to the existing <label>.
      CSSNamespace: 'test',
      source: teamMembers,
      templates: {
        inputValue: function (suggestion) {
          return suggestion
        },
        suggestion: function (suggestion) {
          const parts = suggestion.split(", ");
          return `${parts[0]}, ${parts[1]}`
       
        }
      }
    })
  </script>
{% endblock %}



{% block content %}

  
   <style>
       /* Custom styles for the toggle functionality */
       .layout-container {
   display: flex;
   gap: 24px; /* govuk-spacing(6) equivalent */
   transition: all 0.3s ease;
}

#task-table {
    width:100%;
    display:block;
}

.filters-panel {
   width: 300px; /* Fixed minimum width */
   min-width: 300px; /* Ensures it never gets smaller */
   flex-shrink: 0; /* Prevents shrinking */
   overflow: hidden;
   transition: all 0.3s ease;
   padding-left:10px;
}

.layout-container.filters-hidden .filters-panel {
   width: 0;
   min-width: 0;
   opacity: 0;
   pointer-events: none;
   margin-right: -24px; /* Compensate for gap */
}

.main-content-area {
   flex: 1; /* Takes remaining space */
   min-width: 0; /* Allows shrinking if needed */
}
#tasksPerPage {
    width:80px !important;
    min-width: 80px !important;
}

/* Responsive adjustments */
@media (max-width: 40.0625em) {
   .layout-container {
       flex-direction: column;
       gap: 16px;
   }

   .filters-panel {
       width: 100%;
       min-width: 0;
   }

   .layout-container.filters-hidden .filters-panel {
       display: none;
       margin-right: 0;
   }
}

/* Different minimum widths for different screen sizes */
@media (min-width: 1024px) {
   .filters-panel {
       width: 350px;
       min-width: 350px;
   }
}

@media (min-width: 1200px) {
   .filters-panel {
       width: 29%;
       min-width: 29%;
   }
}

       /* Custom button styling for toggle */
       .toggle-filters-button {
           margin-bottom: govuk-spacing(4);
       }

       /* Content cards using GOV.UK styling */
       .content-card {
           border-left: 4px solid #1d70b8;
           padding: govuk-spacing(3);
           margin-bottom: govuk-spacing(3);
           background-color: #f3f2f1;
       }

       .content-card:last-child {
           margin-bottom: 0;
       }

       .content-hero {
           background: linear-gradient(135deg, #1d70b8 0%, #003078 100%);
           color: #ffffff;
           padding: govuk-spacing(6);
           margin-bottom: govuk-spacing(6);
           text-align: center;
       }

       .content-hero h2 {
           color: #ffffff;
           margin-bottom: govuk-spacing(3);
       }

       /* Responsive adjustments */
       @media (max-width: 40.0625em) {
           .layout-container {
               grid-template-columns: 1fr;
               gap: govuk-spacing(4);
           }

           .layout-container.filters-hidden {
               grid-template-columns: 1fr;
           }

           .layout-container.filters-hidden .filters-panel {
               display: none;
           }
       }

       /* Reduced motion support */
       @media (prefers-reduced-motion: reduce) {
           .layout-container,
           .filters-panel {
               transition: none;
           }
       }

       /* High contrast mode */
       @media (prefers-contrast: high) {
           .content-card {
               border-left-width: 6px;
           }
       }

       .layout-grid {
   display: grid;
   grid-template-columns: minmax(250px, 1fr) 2fr;
   gap: 20px;
   min-height: 500px;
   transition: grid-template-columns 0.3s ease;
}

.layout-grid.filters-hidden {
   grid-template-columns: minmax(0px, 0fr) 1fr;
}

/* Responsive minimum widths */
@media (min-width: 1024px) {
   .layout-grid {
       grid-template-columns: minmax(320px, 1fr) 2fr;
   }
}

@media (min-width: 1200px) {
   .layout-grid {
       grid-template-columns: minmax(380px, 1fr) 2fr;
   }
}

/* Mobile - remove minimum to allow stacking */
@media (max-width: 768px) {
   .layout-grid {
       grid-template-columns: 1fr;
       gap: 16px;
   }

   .layout-grid.filters-hidden {
       grid-template-columns: 1fr;
   }

   .layout-grid.filters-hidden .filters-column {
       display: none;
   }
}
   </style>

<body class="govuk-template__body">
   <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

   <!-- Skip link -->
   <a href="#main-content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>


   <!-- Main content -->
   <div class="govuk-width-container">
       <main class="govuk-main-wrapper" id="main-content" role="main">

           <!-- Page heading -->
           <div class="govuk-grid-row govuk-!-static-padding-bottom-6">
               <div class="govuk-grid-column-full">
                   <h1 class="govuk-heading-xl">Agent Statistics</h1>
                   <p class="govuk-body">Enter a date range and agent to view agent statistics. </p>
                   
               </div>
           </div>

     

           <!-- Two column layout -->
           <div class="govuk-grid-row">
            <!-- Column one -->
            <div class="govuk-grid-column-one-third">
              <div class="filters-panel-content">

      
                <form id="filter-form">
                  <div class="govuk-form-group">
                    <label class="govuk-label govuk-label--m" for="searchb">Agent</label>
                    <div id="event-name-hint" class="govuk-hint">
                      Enter agent's name or staff ID 
                    </div>
                    <div id="searchb" class="govuk-input--width-20"></div>
                  </div>
                  <h3 class="govuk-heading-s">Date range</h3>
                 
                  <div class="govuk-form-group">
                    <label class="govuk-label title-label" for="startDate">From</label>
                    <div class="govuk-date-input" id="startDate">
                      <div class="govuk-date-input__item">
                        <div class="govuk-form-group">
                          <label class="govuk-label govuk-date-input__label" for="dob-day">
                            Day
                          </label>
                          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-day" name="dob-day" type="text" autocomplete="bday-day" inputmode="numeric">
                        </div>
                      </div>
                      <div class="govuk-date-input__item">
                        <div class="govuk-form-group">
                          <label class="govuk-label govuk-date-input__label" for="dob-month">
                            Month
                          </label>
                          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-month" name="dob-month" type="text" autocomplete="bday-month" inputmode="numeric">
                        </div>
                      </div>
                      <div class="govuk-date-input__item">
                        <div class="govuk-form-group">
                          <label class="govuk-label govuk-date-input__label" for="dob-year">
                            Year
                          </label>
                          <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="dob-year" name="dob-year" type="text" autocomplete="bday-year" inputmode="numeric">
                        </div>
                      </div>
                    </div>
                  </div>
          
                  <div class="govuk-form-group">
                    <label class="govuk-label title-label" for="endDate">To</label>
                    <div class="govuk-date-input" id="endDate">
                      <div class="govuk-date-input__item">
                        <div class="govuk-form-group">
                          <label class="govuk-label govuk-date-input__label" for="dob-day">
                            Day
                          </label>
                          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-day" name="dob-day" type="text" autocomplete="bday-day" inputmode="numeric">
                        </div>
                      </div>
                      <div class="govuk-date-input__item">
                        <div class="govuk-form-group">
                          <label class="govuk-label govuk-date-input__label" for="dob-month">
                            Month
                          </label>
                          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-month" name="dob-month" type="text" autocomplete="bday-month" inputmode="numeric">
                        </div>
                      </div>
                      <div class="govuk-date-input__item">
                        <div class="govuk-form-group">
                          <label class="govuk-label govuk-date-input__label" for="dob-year">
                            Year
                          </label>
                          <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="dob-year" name="dob-year" type="text" autocomplete="bday-year" inputmode="numeric">
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="govuk-button-group">
                  <a href="agent-stats-2" class="govuk-button" type="button" id="applyFilters">Create report</a>
                  <a href="#" class="govuk-button govuk-button--secondary" type="button" id="resetFilters">Reset</a>
                </div>
            </form>
               </div>
            </div>
            <div class="govuk-grid-column-two-thirds">
              <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                 
                </div>
              </div> 
              </div>
            </div>
          </div>
       </main>
   </div>


</body>
{% endblock %}