{% extends "layouts/main.html" %}

{% block pageTitle %}
Add team members to Decision makers group
{% endblock %}

{% block pageScripts %}
  <script type="text/javascript" src="/public/javascripts/accessible-autocomplete.min.js"></script>
  <script type="text/javascript" src="/public/javascripts/teams.js"></script>
  <script>
    const teamMembers = [
      "Aiden Jenkins, 12345678",
      "Amy Anderson, 12345678",
      "Amy Adams, 12345678",
      "Amy Johnston, 12345678",
      "Ben Hoad, 12345678",
      "Joel Odonnell, 12345678",
      "Oliver Logan, 12345678",
      "Dan Hayes, 12345678",
      "Kathleen Lin, 12345678",
      "Darren Lowery, 12345678",
      "Kamran Roth, 12345678",
      "Amaan Hubbard, 12345678",
      "Sally Whitaker, 12345678",
      "Georgia Duncan, 12345678",
      "Jean Booker, 12345678",
      "Kaine Bell, 12345678",
      "Arjan Sharp, 12345678",
      "Bianca Nicholson, 12345678",
      "Brett Henderson, 12345678",
      "Hassan Young, 12345678",
      "Sonia Pruitt, 12345678",
      "Erica Fernandez, 12345678"
    ]

    accessibleAutocomplete({
      element: document.querySelector('#searchb'),
      id: 'searchb', // To match it to the existing <label>.
      CSSNamespace: 'test',
      source: teamMembers,
      templates: {
        inputValue: function (suggestion) {
          return suggestion
        },
        suggestion: function (suggestion) {
          const parts = suggestion.split(", ");
          return `${parts[0]}, ${parts[1]}`
       
        }
      }
    })
  </script>
{% endblock %}

{% block stylesheets %}
  {{ super() }}
  <link href="/public/css/accessible-autocomplete.min.css" rel="stylesheet" type="text/css" />
{% endblock %}

{% block beforeContent %}
  <a class="govuk-back-link" href="javascript:window.history.back()">
    Back
  </a>
{% endblock %}

{% block content %}
<!--<div class="govuk-notification-banner" role="region" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
  <div class="govuk-notification-banner__header">
    <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
      You will be signed out soon
    </h2>
  </div>
  <div class="govuk-notification-banner__content">
    <p class="govuk-notification-banner__heading">
      This helps keep data secure. If you don't do anything for 1 hour, we'll log you out and 
any progress you have not confirmed will be deleted.
    </p>
  </div>
</div>-->


      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">

          <!--<div class="govuk-error-summary" data-module="govuk-error-summary">
            <div role="alert">
              <h2 class="govuk-error-summary__title">
                There is a problem
              </h2>
              <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                  <li>
                    <a href="#">Andi Anderson has already been added</a>
                  </li>
                  
                </ul>
              </div>
            </div>
          </div>-->

           <!--<div class="govuk-notification-banner govuk-notification-banner--success" role="alert"
          aria-labelledby="govuk-notification-banner-title"
          data-module="govuk-notification-banner">
          <div class="govuk-notification-banner__header">
            <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
              Success
            </h2>
          </div>
          <div class="govuk-notification-banner__content">
            <h3 class="govuk-notification-banner__heading">
              You have added Andi to the Maternity Allowance team.
            </h3>
            
          </div>
        </div>--> 
       
    <h1 class="govuk-heading-l">
     Add team members TEAM NAME
    </h1>
   
  &nbsp;
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
      
          <!-- Accessible autocomplete will hydrate this div -->
          
          <label class="govuk-label govuk-label--m" for="searchb">Find a team member</label>
          <div id="event-name-hint" class="govuk-hint">
            Use their name or staff number.
          </div>
          <div id="searchb" class="govuk-input--width-30"></div>

    <div class="govuk-button-group" style="margin-top:10px;">
      <a href="create-group3-aiden-added">
      <button id="addTeamMember" class="govuk-button govuk-button--secondary" data-module="govuk-button">Add</button></a>
    </div>

          <details class="govuk-details" data-module="govuk-details">
            <summary class="govuk-details__summary">
              <span class="govuk-details__summary-text">
                I do not see the team member I'm looking for
              </span>
            </summary> 
           <div class="govuk-details__text">
              <p>You may not have added this team member to the Maternity Allowance team yet. You can add them later, then add them to a group.</p>
            </div>
          </details> 
          </form>
          </div>
          </div>
          
          
          <!--<div class="govuk-inset-text">
          <p><strong>Andi Anderson has been removed from the list of team members you want to add to the group.</strong></p>
        </div>-->

          <table class="govuk-table">
            <caption class="govuk-table__caption govuk-table__caption--m">TEAM NAME team members</caption>
            <thead class="govuk-table__head">
                <th scope="col" class="govuk-table__header">Name</th>
                <th scope="col" class="govuk-table__header">Staff number</th>
                <th scope="col" class="govuk-table__header"> </th>
            </thead>
            <tbody id="TeamMembersTable" class="govuk-table__body">
             
            </tbody>
          </table>
          <p id="tablePlaceholder">You have not added any team members to {{ data['humanreadablename'] or "None" }} yet.</p>
    
      
          <div class="govuk-button-group">
            <a class="govuk-button" href="review-team">
              Continue
            </a>
              
                <a  href="" class="govuk-button govuk-button--secondary" data-module="govuk-button">
                  Back
                </a>  
          </div>
        </div>

   
{% endblock %}