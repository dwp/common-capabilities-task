{% extends "layouts/main.html" %}


{% block pageTitle %}

{% endblock %}
{% block stylesheets %}
  {{ super() }}
  <link href="/public/css/filters.css" rel="stylesheet" type="text/css" />
  <link href="/public/css/accessible-autocomplete.min.css" rel="stylesheet" type="text/css" />
{% endblock %}
{% block beforeContent %}
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
<a class="govuk-back-link" href="javascript:window.history.back()">Back</a>
{% endblock %}

{% block pageScripts %}
  <script type="text/javascript" src="/public/javascripts/accessible-autocomplete.min.js"></script>
  <script type="text/javascript" src="/public/javascripts/teams.js"></script>
  <script>
    const teamMembers = [
      "Aiden Jenkins, 12345678",
      "Amy Anderson, 12345678",
      "Amy Adams, 12345678",
      "Amy Johnston, 12345678",
      "James Phillips, 12345678",
      "Ben Hoad, 12345678",
      "Joel Odonnell, 12345678",
      "Oliver Logan, 12345678",
      "Dan Hayes, 12345678",
      "Kathleen Lin, 12345678",
      "Darren Lowery, 12345678",
      "Kamran Roth, 12345678",
      "Amaan Hubbard, 12345678",
      "Sally Whitaker, 12345678",
      "Georgia Duncan, 12345678",
      "Jean Booker, 12345678",
      "Kaine Bell, 12345678",
      "Arjan Sharp, 12345678",
      "Bianca Nicholson, 12345678",
      "Brett Henderson, 12345678",
      "Hassan Young, 12345678",
      "Sonia Pruitt, 12345678",
      "Erica Fernandez, 12345678"
    ]

    accessibleAutocomplete({
      element: document.querySelector('#searchb'),
      id: 'searchb', // To match it to the existing <label>.
      CSSNamespace: 'test',
      source: teamMembers,
      templates: {
        inputValue: function (suggestion) {
          return suggestion
        },
        suggestion: function (suggestion) {
          const parts = suggestion.split(", ");
          return `${parts[0]}, ${parts[1]}`
       
        }
      }
    })
  </script>
    <style>
      #searchContainer {
        display: inline-block;
      }
  
      .stat {
        border: 1px solid #b1b4b6;
        background-color: #1d70b8;
        box-sizing: border-box;
        padding: .2rem .52rem;;
        margin-bottom: 2rem;
        color:#ffffff;
      }
  
      .stat_number {
        font-size: 3rem;
        font-weight: 600;
      }
  
      .stat_cat {
        font-size: medium;
        font-weight: 300;
      }
    </style>
{% endblock %}



{% block content %}

  
 

<body class="govuk-template__body">
   <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

   <!-- Skip link -->
   <a href="#main-content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>


   <!-- Main content -->
   <div class="govuk-width-container">
       <main class="govuk-main-wrapper" id="main-content" role="main">

           <!-- Page heading -->
           <div class="govuk-grid-row govuk-!-static-padding-bottom-6">
               <div class="govuk-grid-column-full">
                   <h1 class="govuk-heading-l">Agent statistics</h1>
                   <p class="govuk-body">Enter a date range and agent to view agent statistics. </p>
                   
               </div>
           </div>
           <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
            <table class="govuk-table">
              <caption class="govuk-table__caption govuk-table__caption--m">Stats for [AGENT NAME] between [FROM DATE] and [TO DATE]</caption>
              <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                  <th scope="col" class="govuk-table__header " style="width: 300px">Date</th>
                  <th scope="col" class="govuk-table__header ">Allocated</th>
                  <th scope="col" class="govuk-table__header ">Completed </th>
                  <th scope="col" class="govuk-table__header ">Cancelled</th>
                  <th scope="col" class="govuk-table__header ">Failed</th>
                  <th scope="col" class="govuk-table__header ">Suspended</th>
                  <th scope="col" class="govuk-table__header ">Returned to Queue</th>
                  <th scope="col" class="govuk-table__header ">Overdue</th>
                </tr>
              </thead>
              <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">1 Aug 2025 <br><span class="govuk-hint">Task type: intial call</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">1 Aug 2025 <br><span class="govuk-hint">Task type: call back</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">2 Aug 2025 <br><span class="govuk-hint">Task type: intial call</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">2 Aug 2025 <br><span class="govuk-hint">Task type: call back</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">3 Aug 2025 <br><span class="govuk-hint">Task type: intial call</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">3 Aug 2025 <br><span class="govuk-hint">Task type: call back</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">4 Aug 2025 <br><span class="govuk-hint">Task type: intial call</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">4 Aug 2025 <br><span class="govuk-hint">Task type: call back</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">5 Aug 2025 <br><span class="govuk-hint">Task type: intial call</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">5 Aug 2025 <br><span class="govuk-hint">Task type: call back</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">6 Aug 2025 <br><span class="govuk-hint">Task type: intial call</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">6 Aug 2025 <br><span class="govuk-hint">Task type: call back</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">7 Aug 2025 <br><span class="govuk-hint">Task type: intial call</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tr class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">7 Aug 2025 <br><span class="govuk-hint">Task type: call back</span></td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tr>
                <tfoot class="govuk-table__row">
                  <td scope="row" class="govuk-table__header govuk-!-width-one-quarter">Total</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">25</td> 
                  <td class="govuk-table__cell govuk-table__cell--numeric">12</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                  <td class="govuk-table__cell govuk-table__cell--numeric">13</td>
                </tfoot>
              </tbody>
            </table>
          </div>
            </div>
          </div>
       </main>
   </div>


   <!-- GOV.UK Frontend JavaScript -->

   <script>
      

       // Custom toggle functionality
       (function() {
           'use strict';

           // Get DOM elements
           const toggleButton = document.getElementById('toggleFilters');
           const layoutContainer = document.getElementById('layoutContainer');
           const filtersPanel = document.getElementById('filtersPanel');
           const buttonStatus = document.getElementById('buttonStatus');

           // State management
           let filtersVisible = true;

           // Button click handler
           function toggleFilters() {
               filtersVisible = !filtersVisible;

               if (filtersVisible) {
                   // Show filters
                   layoutContainer.classList.remove('filters-hidden');
                   toggleButton.textContent = 'Hide filters';
                   toggleButton.setAttribute('aria-expanded', 'true');
                   buttonStatus.textContent = 'Filters are currently visible';

                   // Restore focus management for filter inputs
                   const filterInputs = filtersPanel.querySelectorAll('input, select');
                   filterInputs.forEach(input => {
                       input.removeAttribute('tabindex');
                   });
               } else {
                   // Hide filters
                   layoutContainer.classList.add('filters-hidden');
                   toggleButton.textContent = 'Show filters';
                   toggleButton.setAttribute('aria-expanded', 'false');
                   buttonStatus.textContent = 'Filters are currently hidden';

                   // Remove filter inputs from tab order when hidden
                   const filterInputs = filtersPanel.querySelectorAll('input, select');
                   filterInputs.forEach(input => {
                       input.setAttribute('tabindex', '-1');
                   });
               }

               // Announce the change to screen readers
               const announcement = document.createElement('div');
               announcement.setAttribute('aria-live', 'polite');
               announcement.setAttribute('aria-atomic', 'true');
               announcement.className = 'govuk-visually-hidden';
               announcement.textContent = filtersVisible ? 'Filters shown' : 'Filters hidden';
               document.body.appendChild(announcement);

               // Remove the announcement after it's been read
               setTimeout(() => {
                   if (document.body.contains(announcement)) {
                       document.body.removeChild(announcement);
                   }
               }, 1000);
           }

           // Event listeners
           toggleButton.addEventListener('click', toggleFilters);

           // Keyboard support
           toggleButton.addEventListener('keydown', function(event) {
               // Handle Enter and Space keys (though GOV.UK button handles this)
               if (event.key === 'Enter' || event.key === ' ') {
                   event.preventDefault();
                   toggleFilters();
               }
           });

           // Handle escape key to show filters if hidden
           document.addEventListener('keydown', function(event) {
               if (event.key === 'Escape' && !filtersVisible) {
                   toggleFilters();
                   toggleButton.focus();
               }
           });

           // Initialize proper ARIA states
           toggleButton.setAttribute('aria-expanded', filtersVisible.toString());

       })();
   </script>
</body>
{% endblock %}