{% extends "layouts/main.html" %}


{% set pageName = "Find tasks" %}

{% block beforeContent %}

  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}

{% endblock %}

{% block content %}

 <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      <h1 class="govuk-heading-l">{{pageName}}</h1>
      <p class="govuk-body">To view any tasks, you must enter a date range. Enter from and to dates below.</p>

      <form novalidate method="post">

      {{ govukDateInput({
        id: "[teams][from]",
        fieldset: {
          legend: {
            text: "From",
            isPageHeading: false,
            classes: "govuk-fieldset__legend--s"
          }
        },
        hint: {
          text: "For example, 27 3 2024"
        },
        items: [
          {
            name: "date",
            label: "Day",
            value: data.day,
            classes: "govuk-input--width-2"
          },
          {
            name: "date",
            label: "Month",
            value: data.month,
            classes: "govuk-input--width-2"
          },
          {
            name: "date",
            label: "Year",
            value: data.year,
            classes: "govuk-input--width-4"
          }
        ]
      }) }}

      {{ govukDateInput({
        id: "date",
        fieldset: {
          legend: {
            text: "To",
            isPageHeading: false,
            classes: "govuk-fieldset__legend--s"
          }
        },
        hint: {
          text: "For example, 27 3 2024"
        },
        items: [
          {
            name: "date",
            label: "Day",
            value: data.day,
            classes: "govuk-input--width-2"
          },
          {
            name: "date",
            label: "Month",
            value: data.month,
            classes: "govuk-input--width-2"
          },
          {
            name: "date",
            label: "Year",
            value: data.year,
            classes: "govuk-input--width-4"
          }
        ]
      }) }}

      <p class="govuk-body">
        This will display tasks created in this date range.<br> Select an option below if you want to change this.
      </p>

      {{ govukRadios({
        name: "[teams][v1][DateRangeOption]",
        fieldset: {
          legend: {
            text: "Date range option",
            isPageHeading: false,
            classes: "govuk-fieldset__legend--s"
          }
        },
        value: data.teams.v1.DateRangeOption,
        items: [
          {
            value: "Created date",
            text: "Created date"
          },
          {
            value: "Completed date",
            text: "Completed date"
          }
        ]
      }) }}

      {{ govukSelect({
        id: "[teams][status]",
        name: "[teams][status]",
        label: {
          text: "Status",
          isPageHeading: false,
          classes: "govuk-label--s"
        },
        hint: {
          text: "Select the status of the tasks you want to view (optional)"
        },
        value: data.teams.status,
        items: [
          {
            value: "",
            text: "Select"
          },
          {
            value: "Allocated",
            text: "Allocated"
          },
          {
            value: "Active",
            text: "Active"
          },
          {
            value: "On hold",
            text: "On hold"
          },
          {
            value: "Failed",
            text: "Failed"
          },
          {
            value: "Cancelled",
            text: "Cancelled"
          },
          {
            value: "Completed",
            text: "Completed"
          }
        ]
      }) }}

      {{ govukSelect({
        id: "[teams][Team]",
        name: "[teams][Team]",
        label: {
          text: "Team",
          isPageHeading: false,
          classes: "govuk-label--s"
        },
        hint: {
          text: "Select the team you want to view (optional)"
        },
        value: data.teams.Team,
        items: [
          {
            value: "Select",
            text: "Select"
          },
          {
            value: "Newcastle Team One",
            text: "Newcastle Team One"
          },
          {
            value: "Newcastle Team Two",
            text: "Newcastle Team Two"
          }
        ]
      }) }}

      {# Autocomplete start #}
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds"> 

          {{ govukSelect({
            id: "[teams][v1][taskType]",
            name: "[teams][v1][taskType]",
            classes: "taskTypeAutocomplete",
            label: {
              text: "Task type",
              isPageHeading: false,
              classes: "govuk-label--s"
            },
            hint: {
              text: "Select the priority of the tasks you want to view (optional)"
            },
            value: data.teams.v1.taskType,
            items: [
              {
                value: "",
                text: "Select"
              },
              {
                value: "Admin role release 19-08-25 Tasktype",
                text: "Admin role release 19-08-25 Tasktype"
              },
              {
                value: "ASC task type staging Release testing 04092024",
                text: "ASC task type staging Release testing 04092024"
              },
              {
                value: "ASC task type staging Release testing 24092024",
                text: "ASC task type staging Release testing 24092024"
              },
              {
                value: "Benefit Amount 26 09 2024",
                text: "Benefit Amount 26 09 2024"
              }
            ]
          }) }}

        </div>
      </div>
      {# Autocomplete ends #}
     

      {{ govukSelect({
        id: "[teams][priority]",
        name: "[teams][priority]",
        label: {
          text: "Priority",
          isPageHeading: false,
          classes: "govuk-label--s"
        },
        hint: {
          text: "Select the priority of the tasks you want to view (optional)"
        },
        value: data.teams.priority,
        items: [
          {
            value: "",
            text: "Select"
          },
          {
            value: "None",
            text: "None"
          },
          {
            value: "Low",
            text: "Low"
          },
          {
            value: "Medium",
            text: "Medium"
          },
          {
            value: "High",
            text: "High"
          },
          {
            value: "Critical",
            text: "Critical"
          }
        ]
      }) }}

      {{ govukInput({
        id: "[teams][agent]",
        name: "[teams][agent]",
        label: {
          text: "Agent",
          isPageHeading: false,
          classes: "govuk-label--s"
        },
        classes: "govuk-input--width-20",
        hint: {
          html: "Enter name, staff number or email of the agent<br> whose tasks you want to view (optional)"
        },
        value: data.teams.agent
      }) }}

      {{ govukInput({
        id: "[teams][nino]",
        name: "[teams][nino]",
        label: {
          text: "National Insurance number",
          isPageHeading: false,
          classes: "govuk-label--s"
        },
        classes: "govuk-input--width-10",
        hint: {
          html: "Enter a customer's National Insurance number to view tasks<br> raised against this customer (optional)"
        },
        value: data.teams.nino
      }) }}

      {{ govukInput({
        id: "[teams][taskNumber]",
        name: "[teams][taskNumber]",
        label: {
          text: "Task number",
          isPageHeading: false,
          classes: "govuk-label--s"
        },
        classes: "govuk-input--width-10",
        hint: {
          html: "Enter the task number to view a specific task (optional)"
        },
        value: data.teams.taskNumber
      }) }}

      {{ govukSelect({
        id: "[teams][sortBy]",
        name: "[teams][sortBy]",
        label: {
          text: "Sort by",
          isPageHeading: false,
          classes: "govuk-label--s"
        },
        value: data.teams.sortBy,
        items: [
          {
            value: "",
            text: "Select"
          },
          {
            value: "Created, earliest to latest",
            text: "Created, earliest to latest"
          },
          {
            value: "Created, latest to earliest",
            text: "Created, latest to earliest"
          },
          {
            value: "Priority, low to critical",
            text: "Priority, low to critical"
          },
          {
            value: "Priority critical to low",
            text: "Priority critical to low"
          },
          {
            value: "Due, earliest to latest",
            text: "Due, earliest to latest"
          },
          {
            value: "Due, latest to earliest",
            text: "Due, latest to earliest"
          },
          {
            value: "Completed, earliest to latest",
            text: "Completed, earliest to latest"
          },
          {
            value: "Completed, latest to earliest",
            text: "Completed, latest to earliest"
          }
        ]
      }) }}
     

      <div class="govuk-button-group">
        {{ govukButton({
          text: "View tasks",
          href: "tasks"
        }) }}
        <a href="#" class="govuk-link">Clear filters</a>
      </div>
      
      </form>

    </div>
</div>

{% endblock %}

{% block scripts %}
  {{super()}}
  <script>
    accessibleAutocomplete.enhanceSelectElement({
      selectElement: document.querySelector('.taskTypeAutocomplete')
    })
  </script>
{% endblock %}


